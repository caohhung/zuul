pipelines:
  - name: check
    description: Standard check
    manager: IndependentPipelineManager
    source: github
    trigger:
      github:
        - event:
            - pr-open
            - pr-change
            - pr-reopen
        - event: pr-comment
          comment: 'test me'
    start:
      github:
    success:
      github:
    failure:
      github:

  - name: reporting
    description: Non-default reporting
    manager: IndependentPipelineManager
    source: github
    trigger:
      github:
        - event: pr-comment
          comment: 'reporting check'
    start:
      github:
        commit_status: false
        comment: true
    success:
      github:
        commit_status: false
        comment: false
    failure:
      github:
        commit_status: false
        comment: false

  - name: merge
    description: Pipeline for merging the pull request
    manager: IndependentPipelineManager
    source: github
    trigger:
      github:
        - event: pr-comment
          comment: 'merge me'
    success:
      github:
        commit_status: false
        comment: false
        merge: true
    failure:
      github:
        commit_status: false
        comment: true

  - name: post
    manager: IndependentPipelineManager
    source: github
    trigger:
      github:
        - event: push

  - name: tag
    manager: IndependentPipelineManager
    source: github
    trigger:
      github:
        - event: tag

projects:
  - name: org/project
    check:
      - project-merge:
        - project-test1
        - project-test2
    merge:
      - noop
    post:
      - project-post
    tag:
      - project-tag
    reporting:
      - project-test1
